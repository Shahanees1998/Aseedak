(()=>{var e={};e.id=1011,e.ids=[1011],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3362:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(9362),t(8047),t(2874),t(2723);var a=t(7105),r=t(5265),l=t(157),i=t.n(l),o=t(4665),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let c=["",{children:["(full-page)",{children:["hotel-dashboard",{children:["forms",{children:["templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9362)),"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/(full-page)/hotel-dashboard/forms/templates/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8047)),"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/(full-page)/hotel-dashboard/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,2874,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2723)),"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/(full-page)/hotel-dashboard/forms/templates/page.tsx"],m="/(full-page)/hotel-dashboard/forms/templates/page",h={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(full-page)/hotel-dashboard/forms/templates/page",pathname:"/hotel-dashboard/forms/templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5439:(e,s,t)=>{Promise.resolve().then(t.bind(t,3658))},557:(e,s,t)=>{Promise.resolve().then(t.bind(t,9720))},8608:(e,s,t)=>{Promise.resolve().then(t.bind(t,4513)),Promise.resolve().then(t.bind(t,8280))},895:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,3817,23)),Promise.resolve().then(t.t.bind(t,9323,23)),Promise.resolve().then(t.t.bind(t,2204,23)),Promise.resolve().then(t.t.bind(t,820,23)),Promise.resolve().then(t.t.bind(t,5915,23)),Promise.resolve().then(t.t.bind(t,1611,23))},3658:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>l});var a=t(9899),r=t(878);function l({children:e}){return(0,a.jsxs)(r.SessionProvider,{children:[e,a.jsx(Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()),{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}!function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()},9720:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var a=t(9899),r=t(5507),l=t(627),i=t(8155),o=t(6666),n=t(721),c=t(6969);function d({hotelId:e}){let[s,t]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[h,x]=(0,r.useState)(null),[p,u]=(0,r.useState)(null),[f,b]=(0,r.useState)(!1),[g,j]=(0,r.useState)(!1),v=h?s.filter(e=>e.category===h):s,N=async e=>{j(!0);try{let s=await fetch("/api/forms/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${e.name} (Template)`,description:`Created from ${e.name} template`,fields:e.fields})}),t=await s.json();s.ok?(Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())("Form created successfully from template!"),window.location.href="/hotel-dashboard/forms"):Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())(t.error||"Failed to create form from template")}catch(e){Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())("Error creating form from template")}finally{j(!1)}},y=e=>{u(e),b(!0)},w=e=>({General:"blue",Restaurant:"orange","Room Service":"green",Spa:"purple",Events:"pink"})[e]||"gray",O=e=>({TEXT:"pi pi-align-left",TEXTAREA:"pi pi-align-justify",RATING:"pi pi-star",SINGLE_CHOICE:"pi pi-circle",MULTIPLE_CHOICE:"pi pi-check-square",EMAIL:"pi pi-envelope",PHONE:"pi pi-phone",FILE_UPLOAD:"pi pi-upload"})[e]||"pi pi-question";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Templates"}),a.jsx("p",{className:"text-gray-600",children:"Choose a template to get started quickly"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(o.L,{value:h,onChange:e=>x(e.value),options:[{label:"All Categories",value:null},...d.map(e=>({label:e,value:e}))],placeholder:"Filter by category",className:"w-48"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>a.jsx(l.Card,{className:"dashboard-card",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),a.jsx(c.V,{value:e.category,severity:w(e.category)})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Form Fields:"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.fields.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("i",{className:O(e.type)}),a.jsx("span",{children:e.label}),e.required&&a.jsx("span",{className:"text-red-500",children:"*"})]},s)),e.fields.length>3&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["+",e.fields.length-3," more fields"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(i.Button,{label:"Use Template",icon:"pi pi-plus",size:"small",className:"flex-1",onClick:()=>N(e),loading:g}),a.jsx(i.Button,{icon:"pi pi-eye",size:"small",severity:"secondary",tooltip:"Preview Template",onClick:()=>y(e)})]})]})},e.id))}),a.jsx(n.V,{header:`Preview: ${p?.name}`,visible:f,style:{width:"70vw"},onHide:()=>b(!1),children:p&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Template Details"}),a.jsx("p",{className:"text-gray-600",children:p.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(c.V,{value:p.category,severity:w(p.category)}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[p.fields.length," fields"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Form Fields Preview"}),a.jsx("div",{className:"space-y-4",children:p.fields.map((e,s)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("i",{className:O(e.type)}),a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),e.required&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx(c.V,{value:e.type.replace("_"," "),severity:"info",className:"ml-auto"})]}),e.placeholder&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Placeholder: ",e.placeholder]}),e.options&&e.options.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Options:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.options.map((e,s)=>a.jsx(c.V,{value:e,severity:"secondary",className:"text-xs"},s))})]})]},s))})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[a.jsx(i.Button,{label:"Close",severity:"secondary",onClick:()=>b(!1)}),a.jsx(i.Button,{label:"Use This Template",onClick:()=>{b(!1),N(p)},loading:g})]})]})}),a.jsx(l.Card,{className:"dashboard-card",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("i",{className:"pi pi-plus-circle text-4xl text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Need Something Custom?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create a completely custom form tailored to your specific needs"}),a.jsx(i.Button,{label:"Create Custom Form",icon:"pi pi-pencil",onClick:()=>{window.location.href="/hotel-dashboard/forms"}})]})})]})}!function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()},4513:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var a=t(9899),r=t(878),l=t(5055),i=t(5507),o=t(8155),n=t(5678),c=t(9634),d=t(627),m=t(6969);function h(){let{data:e}=(0,r.useSession)(),[s,t]=(0,i.useState)([]),[l,h]=(0,i.useState)(!1),[x,p]=(0,i.useState)(!1),u=async s=>{if(e?.user?.hotelId)try{(await fetch(`/api/notifications/hotel/${e.user.hotelId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationIds:s})})).ok&&t(e=>e.map(e=>s.includes(e.id)?{...e,isRead:!0}:e))}catch(e){console.error("Error marking notifications as read:",e)}},f=async()=>{let e=s.filter(e=>!e.isRead).map(e=>e.id);e.length>0&&(await u(e),Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())("All notifications marked as read"))},b=s.filter(e=>!e.isRead).length,g=e=>{switch(e){case"success":return"success";case"warning":return"warning";case"error":return"danger";default:return"info"}},j=e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/6e4);return t<1?"Just now":t<60?`${t}m ago`:t<1440?`${Math.floor(t/60)}h ago`:`${Math.floor(t/1440)}d ago`};return(0,a.jsxs)("div",{className:"relative",children:[a.jsx(o.Button,{icon:"pi pi-bell",className:"p-button-text p-button-rounded",onClick:()=>p(!x),"aria-label":"Notifications",children:b>0&&a.jsx(n.Badge,{value:b,severity:"danger"})}),a.jsx(c.T,{ref:e=>{e&&e.show(null,document.querySelector(".relative"))},visible:x,onHide:()=>p(!1),style:{width:"350px"},children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),b>0&&a.jsx(o.Button,{label:"Mark all read",size:"small",severity:"secondary",onClick:f})]}),0===s.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("i",{className:"pi pi-bell-slash text-3xl mb-2"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.map(e=>a.jsx(d.Card,{className:"notification-card",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),a.jsx(m.V,{value:e.type,severity:g(e.type),className:"text-xs"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.message}),a.jsx("p",{className:"text-xs text-gray-400",children:j(e.createdAt)})]}),!e.isRead&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2"})]})},e.id))})]})})]})}function x(){let{data:e}=(0,r.useSession)();return a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e?.user?.hotel?.name||"Hotel Dashboard"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e?.user?.hotel?.city,", ",e?.user?.hotel?.state]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(h,{}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.user?.name}),a.jsx("p",{className:"text-xs text-gray-600",children:"Hotel Admin"})]}),a.jsx(l.q,{image:"/images/no-profile.jpg",shape:"circle",size:"normal",className:"cursor-pointer"})]})]})})})}!function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()},8280:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(9899),r=t(4175),l=t(6153),i=t(8155),o=t(878);let n=[{label:"Dashboard",icon:"pi pi-home",href:"/hotel-dashboard"},{label:"Reviews",icon:"pi pi-star",href:"/hotel-dashboard/reviews"},{label:"Forms",icon:"pi pi-file-edit",href:"/hotel-dashboard/forms"},{label:"Templates",icon:"pi pi-book",href:"/hotel-dashboard/forms/templates"},{label:"QR Codes",icon:"pi pi-qrcode",href:"/hotel-dashboard/qr-codes"},{label:"Analytics",icon:"pi pi-chart-line",href:"/hotel-dashboard/analytics"},{label:"Subscription",icon:"pi pi-credit-card",href:"/hotel-dashboard/subscription"},{label:"Settings",icon:"pi pi-cog",href:"/hotel-dashboard/settings"}];function c(){let e=(0,l.usePathname)();return(0,a.jsxs)("div",{className:"w-64 bg-white shadow-sm min-h-screen",children:[a.jsx("div",{className:"p-6",children:a.jsx("h2",{className:"text-xl font-bold text-blue-600",children:"HotelFeedback Pro"})}),a.jsx("nav",{className:"px-4",children:n.map(s=>a.jsx(r.default,{href:s.href,children:(0,a.jsxs)("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg mb-2 transition-colors ${e===s.href?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx("i",{className:s.icon}),a.jsx("span",{className:"font-medium",children:s.label})]})},s.href))}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsx(i.Button,{label:"Sign Out",icon:"pi pi-sign-out",severity:"secondary",className:"w-full",onClick:()=>{(0,o.signOut)({callbackUrl:"/"})}})})]})}},9362:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(5023);let r=(0,t(2772).createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/components/FormTemplates.tsx#default`);async function l(){let e=await Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())();return e&&e.user?.role==="HOTEL_ADMIN"&&e.user?.hotelId?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Form Templates"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Choose from pre-built form templates or create your own"})]})}),a.jsx(r,{hotelId:e.user.hotelId})]}):a.jsx("div",{children:"Unauthorized"})}!function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}()},8047:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5023),r=t(2588),l=t(2772);let i=(0,l.createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/components/HotelSidebar.tsx#default`),o=(0,l.createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/components/HotelHeader.tsx#default`);async function n({children:e}){let s=await Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())();return s&&s.user?.role==="HOTEL_ADMIN"||(0,r.redirect)("/auth/login"),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(o,{}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx(i,{}),a.jsx("main",{className:"flex-1 p-6",children:e})]})]})}!function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}()},2723:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>o});var a=t(5023),r=t(8209),l=t.n(r);t(642);let i=(0,t(2772).createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/providers.tsx#Providers`),o={title:"Hotel Feedback SaaS",description:"Professional guest feedback and review management platform for hotels"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:l().className,children:a.jsx(i,{children:e})})})}},642:()=>{}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[916,7358,1564,696,9688,6666,8729,721],()=>t(3362));module.exports=a})();