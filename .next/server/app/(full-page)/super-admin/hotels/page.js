(()=>{var e={};e.id=480,e.ids=[480],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(572),s(2082),s(2874),s(2723);var a=s(7105),r=s(5265),i=s(157),n=s.n(i),l=s(4665),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(full-page)",{children:["super-admin",{children:["hotels",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,572)),"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/(full-page)/super-admin/hotels/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2082)),"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/(full-page)/super-admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,2874,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2723)),"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/(full-page)/super-admin/hotels/page.tsx"],u="/(full-page)/super-admin/hotels/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(full-page)/super-admin/hotels/page",pathname:"/super-admin/hotels",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5439:(e,t,s)=>{Promise.resolve().then(s.bind(s,3658))},7150:(e,t,s)=>{Promise.resolve().then(s.bind(s,4182))},2510:(e,t,s)=>{Promise.resolve().then(s.bind(s,5484)),Promise.resolve().then(s.bind(s,4661))},895:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3817,23)),Promise.resolve().then(s.t.bind(s,9323,23)),Promise.resolve().then(s.t.bind(s,2204,23)),Promise.resolve().then(s.t.bind(s,820,23)),Promise.resolve().then(s.t.bind(s,5915,23)),Promise.resolve().then(s.t.bind(s,1611,23))},3658:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>i});var a=s(9899),r=s(878);function i({children:e}){return(0,a.jsxs)(r.SessionProvider,{children:[e,a.jsx(Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()),{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}!function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()},4182:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var a=s(9899),r=s(5507),i=s(7294),n=s(489),l=s(6969),o=s(8155),c=s(627),d=s(3381),u=s(6666),m=s(4693);function h({hotels:e}){let[t,s]=(0,r.useState)(""),[h,p]=(0,r.useState)({global:{value:null,matchMode:m.a6.CONTAINS},subscriptionStatus:{value:null,matchMode:m.a6.EQUALS},isActive:{value:null,matchMode:m.a6.EQUALS}}),x=e=>{switch(e){case"ACTIVE":return"success";case"INACTIVE":case"PAST_DUE":return"warning";case"CANCELLED":return"danger";default:return"secondary"}},v=e=>e?"success":"danger",f=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),b=async(e,t)=>{try{(await fetch(`/api/super-admin/hotels/${e}/toggle-active`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!t})})).ok?(Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())(`Hotel ${t?"deactivated":"activated"} successfully`),window.location.reload()):Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())("Failed to update hotel status")}catch(e){Object(function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}())("Error updating hotel status")}},g=(0,a.jsxs)("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-column",children:[a.jsx("h2",{className:"text-2xl font-bold m-0",children:"All Hotels"}),a.jsx("span",{className:"text-600",children:"Manage hotel accounts and subscriptions"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:"p-input-icon-left",children:[a.jsx("i",{className:"pi pi-search"}),a.jsx(d.o,{value:t,onChange:e=>{let t=e.target.value,a={...h};a.global.value=t,p(a),s(t)},placeholder:"Search hotels...",className:"w-full"})]}),a.jsx(u.L,{value:h.subscriptionStatus.value,onChange:e=>{let t={...h};t.subscriptionStatus.value=e.value,p(t)},options:[{label:"All Statuses",value:null},{label:"Active",value:"ACTIVE"},{label:"Inactive",value:"INACTIVE"},{label:"Cancelled",value:"CANCELLED"},{label:"Past Due",value:"PAST_DUE"}],placeholder:"Status",className:"w-full"}),a.jsx(u.L,{value:h.isActive.value,onChange:e=>{let t={...h};t.isActive.value=e.value,p(t)},options:[{label:"All Hotels",value:null},{label:"Active",value:!0},{label:"Inactive",value:!1}],placeholder:"Active",className:"w-full"})]})]});return a.jsx(c.Card,{children:(0,a.jsxs)(i.w,{value:e,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25,50],className:"datatable-responsive",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} hotels",globalFilterFields:["name","email","city","state"],filters:h,header:g,emptyMessage:"No hotels found.",responsiveLayout:"scroll",children:[a.jsx(n.s,{field:"name",header:"Hotel Name",sortable:!0,style:{minWidth:"200px"}}),a.jsx(n.s,{field:"email",header:"Email",sortable:!0,style:{minWidth:"200px"}}),a.jsx(n.s,{field:"city",header:"Location",sortable:!0,body:e=>`${e.city}, ${e.state}`,style:{minWidth:"150px"}}),a.jsx(n.s,{field:"subscriptionStatus",header:"Status",body:e=>a.jsx(l.V,{value:e.subscriptionStatus.replace("_"," "),severity:x(e.subscriptionStatus)}),sortable:!0,style:{minWidth:"120px"}}),a.jsx(n.s,{field:"isActive",header:"Active",body:e=>a.jsx(l.V,{value:e.isActive?"Active":"Inactive",severity:v(e.isActive)}),sortable:!0,style:{minWidth:"100px"}}),a.jsx(n.s,{header:"Admin",body:e=>{let t=e.users[0];return t?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[t.firstName," ",t.lastName]}),a.jsx("div",{className:"text-sm text-gray-600",children:t.email})]}):a.jsx("span",{className:"text-gray-500",children:"No admin"})},style:{minWidth:"200px"}}),a.jsx(n.s,{header:"Stats",body:e=>(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium",children:e._count.reviews}),a.jsx("div",{className:"text-xs text-gray-500",children:"reviews"}),a.jsx("div",{className:"text-sm font-medium mt-1",children:e._count.qrCodes}),a.jsx("div",{className:"text-xs text-gray-500",children:"QR codes"})]}),style:{minWidth:"100px"}}),a.jsx(n.s,{field:"createdAt",header:"Joined",sortable:!0,body:e=>f(e.createdAt),style:{minWidth:"120px"}}),a.jsx(n.s,{header:"Actions",body:e=>(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(o.Button,{icon:e.isActive?"pi pi-times":"pi pi-check",size:"small",severity:e.isActive?"danger":"success",tooltip:e.isActive?"Deactivate":"Activate",onClick:()=>b(e.id,e.isActive)}),a.jsx(o.Button,{icon:"pi pi-eye",size:"small",severity:"info",tooltip:"View Details",onClick:()=>{window.location.href=`/super-admin/hotels/${e.id}`}})]}),style:{minWidth:"120px"}})]})})}!function(){var e=Error("Cannot find module 'react-hot-toast'");throw e.code="MODULE_NOT_FOUND",e}()},5484:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(9899),r=s(878),i=s(5055);function n(){let{data:e}=(0,r.useSession)();return a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Super Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600",children:"System Management & Oversight"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.user?.name}),a.jsx("p",{className:"text-xs text-gray-600",children:"Super Admin"})]}),a.jsx(i.q,{image:"/images/no-profile.jpg",shape:"circle",size:"normal",className:"cursor-pointer"})]})]})})})}},4661:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(9899),r=s(4175),i=s(6153),n=s(8155),l=s(878);let o=[{label:"Dashboard",icon:"pi pi-home",href:"/super-admin"},{label:"Hotels",icon:"pi pi-building",href:"/super-admin/hotels"},{label:"Users",icon:"pi pi-users",href:"/super-admin/users"},{label:"Reviews",icon:"pi pi-star",href:"/super-admin/reviews"},{label:"Subscriptions",icon:"pi pi-credit-card",href:"/super-admin/subscriptions"},{label:"Analytics",icon:"pi pi-chart-line",href:"/super-admin/analytics"},{label:"System Settings",icon:"pi pi-cog",href:"/super-admin/settings"}];function c(){let e=(0,i.usePathname)();return(0,a.jsxs)("div",{className:"w-64 bg-white shadow-sm min-h-screen",children:[(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Super Admin"}),a.jsx("p",{className:"text-sm text-gray-600",children:"System Management"})]}),a.jsx("nav",{className:"px-4",children:o.map(t=>a.jsx(r.default,{href:t.href,children:(0,a.jsxs)("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg mb-2 transition-colors ${e===t.href?"bg-red-50 text-red-600 border-r-2 border-red-600":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx("i",{className:t.icon}),a.jsx("span",{className:"font-medium",children:t.label})]})},t.href))}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsx(n.Button,{label:"Sign Out",icon:"pi pi-sign-out",severity:"secondary",className:"w-full",onClick:()=>{(0,l.signOut)({callbackUrl:"/"})}})})]})}},572:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5023);let r=(0,s(2772).createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/components/HotelsTable.tsx#default`);(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@prisma/client'");throw e.code="MODULE_NOT_FOUND",e}();let i=Object(function(){var e=Error("Cannot find module '@prisma/client'");throw e.code="MODULE_NOT_FOUND",e}())();async function n(){let e=await Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())();if(!e||e.user?.role!=="SUPER_ADMIN")return a.jsx("div",{children:"Unauthorized"});let t=await i.hotel.findMany({include:{users:{select:{firstName:!0,lastName:!0,email:!0,createdAt:!0}},_count:{select:{reviews:!0,qrCodes:!0}}},orderBy:{createdAt:"desc"}});return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hotels Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all registered hotels and their subscriptions"})]})}),a.jsx(r,{hotels:t})]})}},2082:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5023),r=s(2588),i=s(2772);let n=(0,i.createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/components/SuperAdminSidebar.tsx#default`),l=(0,i.createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/components/SuperAdminHeader.tsx#default`);async function o({children:e}){let t=await Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())();return t&&t.user?.role==="SUPER_ADMIN"||(0,r.redirect)("/auth/login"),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(l,{}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx(n,{}),a.jsx("main",{className:"flex-1 p-6",children:e})]})]})}!function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}()},2723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>l});var a=s(5023),r=s(8209),i=s.n(r);s(642);let n=(0,s(2772).createProxy)(String.raw`/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/providers.tsx#Providers`),l={title:"Hotel Feedback SaaS",description:"Professional guest feedback and review management platform for hotels"};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:a.jsx(n,{children:e})})})}},642:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[916,7358,1564,696,9688,6666,5685],()=>s(913));module.exports=a})();