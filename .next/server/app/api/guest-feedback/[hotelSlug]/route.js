"use strict";(()=>{var e={};e.id=4623,e.ids=[4623],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8168:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>p});var o={};t.r(o),t.d(o,{GET:()=>u});var i=t(3277),n=t(5265),a=t(5356),s=t(7076);!function(){var e=Error("Cannot find module '@prisma/client'");throw e.code="MODULE_NOT_FOUND",e}();let d=Object(function(){var e=Error("Cannot find module '@prisma/client'");throw e.code="MODULE_NOT_FOUND",e}())();async function u(e,{params:r}){try{let{hotelSlug:e}=r,t=await d.hotel.findUnique({where:{slug:e},select:{id:!0,name:!0,primaryColor:!0,secondaryColor:!0,logo:!0,isActive:!0}});if(!t||!t.isActive)return s.NextResponse.json({error:"Hotel not found or inactive"},{status:404});let o=await d.form.findFirst({where:{hotelId:t.id,isActive:!0},include:{fields:{orderBy:{order:"asc"}}}});if(!o)return s.NextResponse.json({error:"No active form found for this hotel"},{status:404});return s.NextResponse.json({hotel:t,form:{id:o.id,name:o.name,description:o.description,fields:o.fields.map(e=>({id:e.id,label:e.label,type:e.type,required:e.required,placeholder:e.placeholder,options:e.options,order:e.order}))}})}catch(e){return console.error("Error fetching guest feedback form:",e),s.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/guest-feedback/[hotelSlug]/route",pathname:"/api/guest-feedback/[hotelSlug]",filename:"route",bundlePath:"app/api/guest-feedback/[hotelSlug]/route"},resolvedPagePath:"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/api/guest-feedback/[hotelSlug]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:f}=l,h="/api/guest-feedback/[hotelSlug]/route";function m(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:p})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[916,3786],()=>t(8168));module.exports=o})();