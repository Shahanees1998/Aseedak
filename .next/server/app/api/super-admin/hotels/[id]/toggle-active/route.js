"use strict";(()=>{var e={};e.id=386,e.ids=[386],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7920:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>O,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var o={};r.r(o),r.d(o,{PUT:()=>c});var n=r(3277),a=r(5265),i=r(5356),s=r(7076);(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@prisma/client'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}();let d=Object(function(){var e=Error("Cannot find module '@prisma/client'");throw e.code="MODULE_NOT_FOUND",e}())(),u=Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).object({isActive:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).boolean()});async function c(e,{params:t}){try{let r=await Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())();if(!r||r.user?.role!=="SUPER_ADMIN")return s.NextResponse.json({error:"Unauthorized"},{status:401});let o=await e.json(),n=u.parse(o),{id:a}=t,i=await d.hotel.update({where:{id:a},data:{isActive:n.isActive},select:{id:!0,name:!0,isActive:!0}});return s.NextResponse.json({message:`Hotel ${n.isActive?"activated":"deactivated"} successfully`,hotel:i})}catch(e){if(console.error("Error toggling hotel active status:",e),e instanceof Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).ZodError)return s.NextResponse.json({error:"Validation error",details:e.errors},{status:400});return s.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/super-admin/hotels/[id]/toggle-active/route",pathname:"/api/super-admin/hotels/[id]/toggle-active",filename:"route",bundlePath:"app/api/super-admin/hotels/[id]/toggle-active/route"},resolvedPagePath:"/Users/mac/Documents/primochatadmin/hotel-feedback-saas/app/api/super-admin/hotels/[id]/toggle-active/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:v}=l,O="/api/super-admin/hotels/[id]/toggle-active/route";function h(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[916,3786],()=>r(7920));module.exports=o})();